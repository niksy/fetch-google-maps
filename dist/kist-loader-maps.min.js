/*! kist-loader-maps 0.1.0 - Google Maps plugin for kist-loader. | Author: Ivan NikoliÄ‡, 2014 | License: MIT */
!function(a,b,c){function d(c,d,g,h,i){function j(){e.resolve(b.google&&b.google.maps?b.google.maps:!1)}if(e)return e.promise();e=a.Deferred();var k="loadGoogleMaps_"+f++,l={sensor:i||"false",key:d,language:g,libraries:h};return b.google&&b.google.maps?j():b.google&&b.google.load?b.google.load("maps",c||3,{other_params:a.param(l),callback:j}):(l=a.extend(l,{callback:k}),b[k]=function(){j(),setTimeout(function(){try{delete b[k]}catch(a){}},20)},a.ajax({dataType:"script",data:l,url:"//maps.googleapis.com/maps/api/js"})),e.promise()}var e,f=a.now();a.extend(c,{loadGmaps:function(e,f){function g(){i.resolve.apply(b,arguments),f&&f.apply(b,arguments),e.success&&e.success.apply(b,arguments)}function h(){i.reject.apply(b,arguments),e.error&&e.error.apply(b,arguments)}var i=a.Deferred();return e=e||{},d(e.mapsVersion,e.apiKey,e.language,e.libraries,e.sensor).done(function(){var a=Array.prototype.slice.call(arguments);e.plugins?c.load(e.plugins).done(function(){a.push(Array.prototype.slice.call(arguments)),g.apply(b,a)}).fail(h):g.apply(b,a)}).fail(h),i.promise()}})}(jQuery,window,$.kist.loader);